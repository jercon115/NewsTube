<html>
	<head>
    	<script src="https://apis.google.com/js/client.js?onload=onClientLoad" type="text/javascript"></script>
    	<script type="text/javascript">			
			function search()
			{
				searchWithIds(<%= @prominentIds.to_json.html_safe %>, <%= @advocacyIds.to_json.html_safe %>);
			}
			function onYouTubeApiLoad() {
			   gapi.client.setApiKey('AIzaSyAFxd-832oMCK_33cqsRBBoh7EdYHzV2oM'); //Change to your own Youtube API key here
			   getTopVideos(<%= @prominentIds.to_json.html_safe %>, <%= @advocacyIds.to_json.html_safe %>);
			}
    	</script>
	</head>
	<body onload="initSearch();" style="padding:0px">
		<input type="hidden" id="landingPage" value="true"/>
		<div class="header">
			<div id="headerContents">
				<div class="logo">
					<a class="title", href="home">NewsTube</a>
					<span class="tagLine">a better news video search</span>
				</div>
				
				<form class="queryForm" action="javascript:search()">
					<input id="query" class="search" type="text" placeholder="Search" />
					</select>
					<button class="btn">Go!</button>
				</form>
				
				<div class="description">Top News Videos:</div><br>
				<div id="topNewsVideos" class = "headerTopVideos">
					<h4>Loading videos...</h4><img style="margin-top:30px" src="assets/fancybox_loading.gif"/>
				</div>
				
				<form class="headerTopVideos">
					<input type="radio" name="topVidRadios" onClick="handleTopVid(this.value);" value="topVid1" checked />
					<input type="radio" name="topVidRadios" onClick="handleTopVid(this.value);" value="topVid2" />
					<input type="radio" name="topVidRadios" onClick="handleTopVid(this.value);" value="topVid3" />
					<input type="radio" name="topVidRadios" onClick="handleTopVid(this.value);" value="topVid4" />
					<input type="radio" name="topVidRadios" onClick="handleTopVid(this.value);" value="topVid5" />
				</form>
			</div>
		</div>
		
		<div class="categories">
			<div class="category" onclick="toggleCategory('prominent')">MEDIA SOURCES</div>
			<div id="prominentTriWrapper" class="triangleWrapper">
				<div class="triangle"></div>
				<div class="description">Videos from Prominent International News Sites</div>
			</div>
			<div id="prominentWrapper" class="videoListWrapper">
				<div id="prominent" class="videoList">
				</div>
			</div>

			<div class="category" onclick="toggleCategory('local')">LOCAL SOURCES</div>
			<div id="localTriWrapper" class="triangleWrapper">
				<div class="triangle"></div>
				<div class="description">Videos from local TV News Stations</div>
				<form action="javascript:searchLocal()" class="zipcodeform">
					<h4 class="zipcodelabel">ZIP Code: </h4>
					<input id="zipcode" type="text" />
					<button class="btn zipcodebtn">Update</button>
				</form>
			</div>
			<div id="localWrapper" class="videoListWrapper">
				<div id="local" class="videoList">
				</div>
				<div id="hiddenLocalHelper" style="display:none"></div>
			</div>

			<div class="category" onclick="toggleCategory('documentary')">DOCUMENTARY</div>
			<div id="documentaryTriWrapper" class="triangleWrapper">
				<div class="triangle"></div>
				<div class="description">Documentary video</div>
			</div>
			<div id="documentaryWrapper" class="videoListWrapper">
				<div id="documentary" class="videoList">
				</div>
			</div>

			<div class="category" onclick="toggleCategory('twitter')">TWITTER</div>
			<div id="twitterTriWrapper" class="triangleWrapper">
				<div class="triangle"></div>
				<div class="description">Videos that are trending on twitter</div>
			</div>
			<div id="twitterWrapper" class="videoListWrapper">
				<div id="twitter" class="videoList">
				</div>
				<div id="hiddentwitter" style="display:none"></div>
			</div>

			<div class="category" onclick="toggleCategory('advocacy')">ADVOCACY</div>
			<div id="advocacyTriWrapper" class="triangleWrapper">
				<div class="triangle"></div>
				<div class="description">Videos made by advocacy groups</div>
			</div>
			<div id="advocacyWrapper" class="videoListWrapper">
				<div id="advocacy" class="videoList">
				</div>
			</div>
			
			<div class="category" onclick="toggleCategory('live')">LIVE BROADCASTS</div>
			<div id="liveTriWrapper" class="triangleWrapper">
				<div class="triangle"></div>
				<div class="description">Currently streaming live broadcasts</div>
			</div>
			<div id="liveWrapper" class="videoListWrapper">
				<div id="live" class="videoList">
				</div>
			</div>
			
			<div class="category" onclick="toggleCategory('geolocation')">GEOLOCATION</div>
			<div id="geolocationTriWrapper" class="triangleWrapper">
				<div class="triangle"></div>
				<div class="description">Videos submitted in specified location</div>
				<form action="javascript:searchGeo()" class="locform">
					<h4 class="loclabel">Location: </h4>
					<input id="loc" type="text" />
					<h4 class="loclabel">Radius: </h4>
					<input id="radius" type="text" />
					<button class="btn locationbtn">Update</button>
				</form>
			</div>
			<div id="geolocationWrapper" class="videoListWrapper">
				<div id="geolocation" class="videoList">
				</div>
			</div>
		</div>
	</body>
</html>